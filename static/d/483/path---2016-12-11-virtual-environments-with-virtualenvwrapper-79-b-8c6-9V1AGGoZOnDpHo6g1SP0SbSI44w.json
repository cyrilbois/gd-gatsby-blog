{"data":{"site":{"siteMetadata":{"title":"Giacomo Debidda","author":"Giacomo Debidda"}},"markdownRemark":{"id":"4589b28f-6c1d-53ba-a7c3-55f9ae859a5e >>> MarkdownRemark","excerpt":" is a set of shell functions built on top of the   python module, and make it even easier to create and manage python virtual environments…","html":"<p><code class=\"language-text\">virtualenvwrapper</code> is a set of shell functions built on top of the <code class=\"language-text\">virtualenv</code> python module, and make it even easier to create and manage python virtual environments.</p>\n<p>The <a href=\"http://virtualenvwrapper.readthedocs.io/en/latest/install.html\">documentation</a> for this project is quite good, but here I wanted to write a reminder (mostly for me) about the configuration of this tool on a Linux server.</p>\n<h2>Configuration</h2>\n<p>You can install <code class=\"language-text\">virtualenwrapper</code> with <code class=\"language-text\">pip</code>:</p>\n<div class='aaaaaaa'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>pip&nbsp;install&nbsp;virtualenvwrapper</span></span></div></pre></div>\n<p>Then you will need to create a (hidden) folder in your <code class=\"language-text\">home</code> directory and call it <code class=\"language-text\">.virtualenvs</code>.</p>\n<p>Lastly, you will need to configure your terminal to execute <code class=\"language-text\">virtualenvwrapper</code> commands. This is done by adding 2 lines of code to a bash configuration file. </p>\n<p>Here’s the **catch:</p>\n<p>If you are working on your computer you have to add these 2 lines to your <code class=\"language-text\">~/.bashrc</code> file.</p>\n<div class='aaaaaaa'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>#&nbsp;~/.bashrc&nbsp;(your&nbsp;local&nbsp;machine)</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>export&nbsp;WORKON_HOME=$HOME/.virtualenvs</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>source&nbsp;/usr/local/bin/virtualenvwrapper.sh</span></span></div></pre></div>\n<p>If you are working on a remote server via SSH you have to add the very same 2 lines, but in a different file, the <code class=\"language-text\">~/.bash_profile</code> file.</p>\n<div class='aaaaaaa'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>#&nbsp;~/.bash_profile&nbsp;(your&nbsp;linux&nbsp;server)</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>export&nbsp;WORKON_HOME=$HOME/.virtualenvs</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>source&nbsp;/usr/local/bin/virtualenvwrapper.sh</span></span></div></pre></div>\n<p>Thanks to <a href=\"http://askubuntu.com/a/121075\">this answer on askubuntu</a> I found out that this difference is due to the different access modality:</p>\n<ul>\n<li>on your local machine you are accessing the console in interactive, non-login mode, and the <code class=\"language-text\">~/.bashrc</code> file will be sourced;</li>\n<li>on a remote server (e.g. a DigitalOcean droplet) via SSH you are accessing the console in interactive, login mode, and the <code class=\"language-text\">~/.bash_profile</code> file will be sourced.</li>\n</ul>\n<p>If you want to know more about these bash files, see <a href=\"http://stackoverflow.com/questions/415403/whats-the-difference-between-bashrc-bash-profile-and-environment\">here</a>.</p>\n<h2>Hooks</h2>\n<p>If you are already using <code class=\"language-text\">virtualenv</code> you will probably know the <code class=\"language-text\">source bin/activate</code> command. This is a <em>hook</em> that sets an environment variable called <code class=\"language-text\">VIRTUAL_ENV</code>, another one called <code class=\"language-text\">PYTHON_HOME</code> and a few others. The command <code class=\"language-text\">deactivate</code> is another hook that unset the same environment variables previously set.</p>\n<p><code class=\"language-text\">virtualenvwrapper</code> defines some additional hooks, like <code class=\"language-text\">postactivate</code> and <code class=\"language-text\">predeactivate</code>. You can use these hooks to set additional environment variables, set aliases, ect. See <a href=\"https://gist.github.com/manuganji/9069466\">here</a> for some examples that you might find useful.</p>\n<h2>Most useful commands</h2>\n<p>Here are the most common <code class=\"language-text\">virtualenwrapper</code> comands:</p>\n<div class='aaaaaaa'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>mkvirtualenv&nbsp;YOUR_VIRTUALENV&nbsp;&nbsp;#&nbsp;create&nbsp;virtual&nbsp;environment&nbsp;(and&nbsp;activate&nbsp;it)</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>mkvirtualenv&nbsp;YOUR_VIRTUALENV&nbsp;--python=python3.5&nbsp;&nbsp;#&nbsp;create&nbsp;virtual&nbsp;enviroment&nbsp;and&nbsp;specifiy&nbsp;the&nbsp;python&nbsp;version</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>workon&nbsp;YOUR_VIRTUALENV&nbsp;&nbsp;#&nbsp;activate&nbsp;virtual&nbsp;environment</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>rmvirtualenv&nbsp;YOUR_VIRTUALENV&nbsp;&nbsp;#&nbsp;remove&nbsp;virtual&nbsp;environment</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--plain syntax--null-grammar\"><span>deactivate&nbsp;&nbsp;#&nbsp;deactivate&nbsp;current&nbsp;active&nbsp;virtual&nbsp;environment</span></span></div></pre></div>","frontmatter":{"title":"Virtual environments with virtualenvwrapper","date":"December 11, 2016"}}},"pageContext":{"slug":"/2016-12-11-virtual-environments-with-virtualenvwrapper/","previous":{"fields":{"slug":"/2016-12-04-better-git-commits/"},"frontmatter":{"title":"Better Git commits"}},"next":{"fields":{"slug":"/2016-12-29-interesting-things-other-people-did-in-2016/"},"frontmatter":{"title":"Interesting things other people did in 2016"}}}}