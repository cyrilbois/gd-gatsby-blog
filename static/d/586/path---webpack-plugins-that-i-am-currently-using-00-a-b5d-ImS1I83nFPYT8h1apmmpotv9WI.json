{"data":{"site":{"siteMetadata":{"title":"Giacomo Debidda","author":"Giacomo Debidda","description":"Giacomo Debidda's Personal Blog"}},"markdownRemark":{"id":"46dd622d-2549-501f-bfd5-2dd9b3fa2a37","excerpt":"Webpack is probably the most popular module bundler for Javascript applications. Its idea is to have a  single tool  that manages all the…","timeToRead":5,"html":"<p>Webpack is probably the most popular module bundler for Javascript applications. Its idea is to have a <strong>single tool</strong> that manages all the assets: Javascript files, CSS files, Images, etc. Webpack lets you also perform all the necessary tasks for managing and optimizing code dependencies, such as compilation, concatenation, minification, and compression.</p>\n<p>Webpack is based on these 4 key concepts:</p>\n<ol>\n<li>entry</li>\n<li>output</li>\n<li>loaders</li>\n<li>plugins</li>\n</ol>\n<p>The <a href=\"https://webpack.js.org/concepts/\">official documentation</a> does a great job in explaining these concept in a clear, concise way, so I suggest you to check it out. Note that you should install Webpack locally, as they suggest <a href=\"https://webpack.js.org/guides/installation/#global-installation\">here</a>. Other great resources to learn how to use and configure Webpack are the <a href=\"https://www.youtube.com/channel/UCblk3IlXm_ZXkR5OYLuYWaQ/playlists\">Matthew Hsiung’s Webpack playlists on Youtube</a> and <a href=\"https://medium.com/@rajaraodv/webpack-the-confusing-parts-58712f8fcad9\">this article on Medium</a>.</p>\n<p>One of the best features of Webpack is its huge ecosystem of plugins. While loaders can only execute transforms on a per-file basis, plugins add custom functionality and let you perform actions on “compilations” or “chunks” of your bundled modules.</p>\n<p>Here I am going to list all plugins that I am currently using and include a sample configuration for each one of them.</p>\n<ul>\n<li>clean-webpack-plugin</li>\n<li>copy-webpack-plugin</li>\n<li>extract-text-webpack-plugin</li>\n<li>favicons-webpack-plugin</li>\n<li>html-webpack-plugin</li>\n<li>Other plugins</li>\n</ul>\n<h2>clean-webpack-plugin</h2>\n<p><a href=\"https://github.com/johnagan/clean-webpack-plugin\">This plugin</a> removes your build folder(s) before building. I use it to remove my <strong>dist/</strong> folder.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// more plugins</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">CleanWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'dist'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> root<span class=\"token punctuation\">:</span> __dirname<span class=\"token punctuation\">,</span> verbose<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// more plugins</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>copy-webpack-plugin</h2>\n<p>Some people consider the <a href=\"https://github.com/kevlened/copy-webpack-plugin\">Copy Webpack Plugin</a> to be an antipattern, because it goes against the main philosophy of Webpack: if your application needs a given asset, you should <code class=\"language-text\">require</code> it where it’s needed, use a file loader to convert it into a module, and let Webpack manage it. I guess they have a point, but at the moment I find it very convenient.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// more plugins</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">CopyWebpackPlugin</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> to<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'dist'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'data'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> debug<span class=\"token punctuation\">:</span> <span class=\"token string\">'warning'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// more plugins</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>extract-text-webpack-plugin</h2>\n<p>The <a href=\"https://github.com/webpack-contrib/extract-text-webpack-plugin\">Extract Text Plugin</a> takes all files that match the specified regular expressions, and bundle them all into a single file. You can use it to collect all stylesheets required by your application and move them into a single file. This way your stylesheets are no longer inlined into the JS bundle. If your total stylesheet volume is big, it will be faster because the CSS bundle is loaded in parallel to the JS bundle. You will need <code class=\"language-text\">css-loader</code> to use this plugin. If you use Sass, you will need <code class=\"language-text\">sass-loader</code> too. A nice benefit of using this plugin is that it allows you to avoid using the <code class=\"language-text\">style-loader</code>, which has the disadvantage of creating a <code class=\"language-text\">&lt;style&gt;</code> node in the DOM.</p>\n<p>If your app has multiple entry points (e.g. home.js and about.js), this pluging plays well together with the CommonsChunkPlugin, but bear in mind that the configuration will be different from the one I included down here.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n  rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// rule for .css files</span>\n    <span class=\"token punctuation\">{</span>\n      test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.css$/</span><span class=\"token punctuation\">,</span>\n      include<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      use<span class=\"token punctuation\">:</span> ExtractTextPlugin<span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> fallback<span class=\"token punctuation\">:</span> <span class=\"token string\">'style-loader'</span><span class=\"token punctuation\">,</span> use<span class=\"token punctuation\">:</span> <span class=\"token string\">'css-loader'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// rule for .sass/.scss files</span>\n    <span class=\"token punctuation\">{</span>\n      test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.(sass|scss)$/</span><span class=\"token punctuation\">,</span>\n      include<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sass'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      use<span class=\"token punctuation\">:</span> ExtractTextPlugin<span class=\"token punctuation\">.</span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> fallback<span class=\"token punctuation\">:</span> <span class=\"token string\">'style-loader'</span><span class=\"token punctuation\">,</span> use<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'css-loader'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sass-loader'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\nplugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// more plugins</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">ExtractTextPlugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">'styles.css'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// name of the bundle for all extracted files</span>\n  <span class=\"token comment\">// more plugins</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>favicons-webpack-plugin</h2>\n<p><a href=\"https://github.com/jantimon/favicons-webpack-plugin\">This plugin</a> automatically creates all the favicons you need for your application. Since its basic configuration creates 37 different favicons, optimized for different devices, it takes a while. That’s why it might be a good idea to use this plugin only in production, not in development.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// more plugins</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">FaviconsWebpackPlugin</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'images'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'logo.png'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// more plugins</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>html-webpack-plugin</h2>\n<p><a href=\"https://github.com/jantimon/html-webpack-plugin\">This plugin</a> is a <em>must have</em>. It generates an HTML5 file that includes all your webpack bundles in the body using script tags. This way in your <code class=\"language-text\">index.html</code> file you don’t have to include any <code class=\"language-text\">&lt;link&gt;</code> tag in the <code class=\"language-text\">&lt;head&gt;</code> for your stylesheet bundle, nor you have to include any <code class=\"language-text\">&lt;script&gt;</code> tag in the <code class=\"language-text\">&lt;body&gt;</code> for your javascript bundle.\nYou can either let the plugin generate an HTML file for you, supply your own template using lodash templates or use your own loader if you are using different templates (e.g. handlebars). If you have the appropriate loaders, <a href=\"http://stackoverflow.com/questions/42861651/can-i-use-html-webpack-plugin-with-a-django-base-template\">you can even use Django templates</a> with this plugin.</p>\n<p>If you have multiple entry points, create an instance of this plugin for each one of them.</p>\n<p><em>A small gotcha</em>: if you forget to remove the <code class=\"language-text\">&lt;link&gt;</code> tag or your <code class=\"language-text\">&lt;script&gt;</code> tag in your <code class=\"language-text\">index.html</code> , Webpack <a href=\"http://stackoverflow.com/questions/37081559/all-my-code-runs-twice-when-compiled-by-webpack\">executes twice</a> all the code required by your entry point.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">plugins <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// more plugins</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      template<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'templates'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      filename<span class=\"token punctuation\">:</span> <span class=\"token string\">'index.html'</span><span class=\"token punctuation\">,</span>\n      hash<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// more plugins</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h2>Other plugins</h2>\n<p>Here are a few plugins that I am not using at the moment, but that I am pretty sure I will use sooner or later.</p>\n<p><strong>CommonsChunkPlugin</strong>\nThe <a href=\"https://webpack.js.org/plugins/commons-chunk-plugin/\">CommonsChunkPlugin</a> is basically an <a href=\"https://github.com/webpack/docs/wiki/optimization\">optimization</a> plugin. It creates a separate file (known as a chunk), consisting of common modules shared between multiple entry points. By separating common modules from bundles, the resulting chunked file can be loaded once initially, and stored in cache for later use. Its configuration requires definitely some effort, but as they say in <a href=\"https://www.youtube.com/watch?v=-xzWMKuiS2o&#x26;list=PLnUE-7Cz5mHERezkTJfh0iU0LESkHmSxA\">these two videos</a>, this plugin is a killer feature of Webpack.</p>\n<p><strong>Dotenv-webpack</strong>\nApps sometimes store config as constants in the code. This is a violation of <a href=\"https://12factor.net/config\">twelve-factor</a>, which requires strict separation of config from code. <a href=\"https://github.com/mrsteele/dotenv-webpack\">This plugin</a> lets you store your configuration in an <code class=\"language-text\">.env</code> file - which you should add to <code class=\"language-text\">.gitignore</code> - so you can easily switch between different environments (e.g. development, test, production).</p>\n<p><strong>HotModuleReplacementPlugin</strong>\nThe HotModuleReplacementPlugin is basically a LiveReload, for every module. As they say in <a href=\"https://github.com/webpack/docs/wiki/hot-module-replacement-with-webpack\">the documentation</a>, this plugin is still an experimental feature.</p>\n<p><strong>Webpack Shell Plugin</strong>\nThe <a href=\"https://github.com/1337programming/webpack-shell-plugin\">Webpack Shell Plugin</a> allows you to run any shell command before or after webpack builds. This will work for both webpack and webpack-dev-server.</p>","frontmatter":{"title":"Webpack plugins that I am currently using","date":"May 11, 2017"}}},"pageContext":{"slug":"/webpack-plugins-that-i-am-currently-using/","previous":{"fields":{"slug":"/threejs-project-starter-for-es6-and-webpack2/"},"timeToRead":5,"frontmatter":{"title":"Three.js project starter for ES6 and Webpack 2","path":"/threejs-project-starter-for-es6-and-webpack2/"}},"next":{"fields":{"slug":"/getting-started-with-webpack-and-es6/"},"timeToRead":8,"frontmatter":{"title":"Getting started with Webpack and ES6","path":"/getting-started-with-webpack-and-es6/"}}}}